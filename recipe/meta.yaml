{% set version = "12.10.3" %}

package:
  name: mpxj
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/m/mpxj/mpxj-{{ version }}.tar.gz
  sha256: 02e1ceeccfaf5bcb5a4e023d88125bcd535c8c7088246276c1debb3413563bb0

build:
  number: 0
  noarch: python
  script: {{ PYTHON }} -m pip install . --no-deps --ignore-installed --no-cache-dir -vvv

requirements:
  host:
    - python >=3.6
    - pip
  run:
    - python >=3.6
    - jpype1
    - openjdk

test:
  imports:
    - mpxj
  commands:
    - python -c "import jpype; import mpxj; jpype.startJVM(convertStrings=False); ProjectFile = jpype.JClass('net.sf.mpxj.ProjectFile')"

about:
  home: https://www.mpxj.org/
  summary: Python wrapper for the MPXJ Java library for manipulating project files
  dev_url: https://github.com/joniles/mpxj
  license: LGPL-2.1-only
  license_family: LGPL
  license_file: LICENSE

extra:
  recipe-maintainers:
    - jschueller
